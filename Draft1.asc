Version 4
SHEET 1 880 680
WIRE -576 -512 -944 -512
WIRE 656 -512 512 -512
WIRE -576 -496 -576 -512
WIRE -288 -496 -576 -496
WIRE 48 -496 -288 -496
WIRE 208 -496 48 -496
WIRE 512 -480 512 -512
WIRE 208 -464 208 -496
WIRE -944 -432 -944 -512
WIRE 48 -416 48 -496
WIRE 512 -368 512 -400
WIRE 208 -352 208 -384
WIRE 272 -352 208 -352
WIRE 512 -352 512 -368
WIRE 512 -352 464 -352
WIRE -576 -320 -576 -496
WIRE -784 -272 -816 -272
WIRE -640 -272 -704 -272
WIRE 48 -256 48 -336
WIRE 272 -256 48 -256
WIRE 512 -256 464 -256
WIRE -576 -192 -576 -224
WIRE 48 -192 48 -256
WIRE 48 -192 -576 -192
WIRE 64 -192 48 -192
WIRE 64 -160 64 -192
WIRE -944 -112 -944 -352
WIRE -816 -112 -816 -272
WIRE -816 -112 -944 -112
WIRE -800 -112 -816 -112
WIRE -576 -96 -576 -192
WIRE 656 -80 656 -512
WIRE 656 -80 400 -80
WIRE 672 -80 656 -80
WIRE -816 -48 -816 -112
WIRE -752 -48 -816 -48
WIRE -640 -48 -672 -48
WIRE 64 -48 64 -160
WIRE -944 -32 -944 -112
WIRE 400 -32 400 -80
WIRE -944 16 -944 -32
WIRE -288 48 -288 -496
WIRE 672 80 672 -80
WIRE 64 112 64 32
WIRE 144 112 64 112
WIRE 400 112 400 48
WIRE 400 112 336 112
WIRE -576 208 -576 0
WIRE -288 208 -288 128
WIRE -288 208 -576 208
WIRE -96 208 -288 208
WIRE 144 208 -96 208
WIRE 512 208 512 -256
WIRE 512 208 336 208
WIRE 544 208 512 208
WIRE 672 208 672 160
WIRE 672 208 544 208
FLAG 64 -160 vin
IOPIN 64 -160 BiDir
FLAG 400 112 v_low_out
IOPIN 400 112 BiDir
FLAG -944 -32 SIGNAL_IN
IOPIN -944 -32 BiDir
FLAG -96 208 0
FLAG 544 208 0
FLAG 512 -368 V_High_out
IOPIN 512 -368 BiDir
SYMBOL Optos\\PC817A 240 160 R0
SYMATTR InstName U1
SYMBOL res 48 -64 R0
SYMATTR InstName R1
SYMATTR Value 800
SYMATTR SpiceLine tol=10 pwr=1
SYMBOL res 384 -48 R0
SYMATTR InstName R2
SYMATTR Value 47k
SYMATTR SpiceLine tol=10 pwr=1
SYMBOL voltage -944 -448 R0
WINDOW 3 24 100 Left 2
WINDOW 123 24 72 Left 2
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(24 24 10 0 0 0 10)
SYMBOL voltage 672 64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 3.3
SYMBOL res 32 -432 R0
SYMATTR InstName R3
SYMATTR Value 47k
SYMATTR SpiceLine tol=10 pwr=1
SYMBOL voltage -288 32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 48
SYMBOL res -688 -288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 500
SYMATTR SpiceLine tol=10 pwr=1
SYMBOL pnp -640 -320 R0
SYMATTR InstName Q2
SYMBOL Optos\\PC817A 368 -304 R0
SYMATTR InstName U2
SYMBOL res 192 -480 R0
SYMATTR InstName R5
SYMATTR Value 800
SYMATTR SpiceLine tol=10 pwr=1
SYMBOL res 496 -496 R0
SYMATTR InstName R6
SYMATTR Value 47k
SYMATTR SpiceLine tol=10 pwr=1
SYMBOL npn -640 -96 R0
SYMATTR InstName Q1
SYMBOL res -656 -64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 500
SYMATTR SpiceLine tol=10 pwr=1
TEXT -322 328 Left 2 !.tran 1s
